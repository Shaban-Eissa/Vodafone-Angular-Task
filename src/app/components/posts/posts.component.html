<div class="spinner-container" *ngIf="isLoading">
  <div class="spinner">
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>

<div class="post-container" *ngIf="!isLoading">
  <div
    class="post-card"
    *ngFor="let post of posts"
    [ngClass]="{ 'selected-card': post.id === selectedCardId }"
  >
    <div class="post-header">
      <div class="post-profile-image">
        <img
          src="https://source.unsplash.com/random/200x200?face&sig={{
            post.user.id
          }}"
          alt="Profile"
        />
      </div>
      <h4>Posted by: {{ post.user.username }} ({{ post.user.email }})</h4>
    </div>
    <div class="post-body">
      <img
        src="https://source.unsplash.com/random/800x600?nature,landscape&sig={{
          post.user.id
        }}"
        alt="Post"
      />
      <p>{{ post.body | limitCharacters : 100 }}</p>
    </div>
    <div class="post-footer">
      <button class="show-Comments" (click)="loadComments(post.id)">
        {{ selectedPostId === post.id ? "Hide comments" : "Show comments" }}
      </button>
      <div class="comments-parent-container">
        <ng-container *ngIf="post.id === selectedPostId">
          <div
            class="comment-item"
            *ngFor="let comment of selectedPostComments"
          >
            <p class="comment-body">{{ comment.body }}</p>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
